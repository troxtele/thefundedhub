import{r as D}from"./react-dom-61eff3e2.js";import"./hoist-non-react-statics-3f8ebaa8.js";import{r as u}from"./react-8f4230a1.js";import"./react-is-a192e302.js";import{w as L}from"./use-sync-external-store-69b8053a.js";function M(e){e()}let E=M;const H=e=>E=e,P=()=>E,m=Symbol.for("react-redux-context"),w=typeof globalThis<"u"?globalThis:{};function T(){var e;if(!u.createContext)return{};const t=(e=w[m])!=null?e:w[m]=new Map;let r=t.get(u.createContext);return r||(r=u.createContext(null),t.set(u.createContext,r)),r}const a=T();function h(e=a){return function(){return u.useContext(e)}}const N=h(),V=()=>{throw new Error("uSES not initialized!")};let R=V;const $=e=>{R=e},z=(e,t)=>e===t;function W(e=a){const t=e===a?N:h(e);return function(n,o={}){const{equalityFn:s=z,stabilityCheck:i=void 0,noopCheck:d=void 0}=typeof o=="function"?{equalityFn:o}:o,{store:l,subscription:c,getServerState:b,stabilityCheck:p,noopCheck:y}=t();u.useRef(!0);const S=u.useCallback({[n.name](x){return n(x)}}[n.name],[n,p,i]),f=R(c.addNestedSub,l.getState,b||l.getState,S,s);return u.useDebugValue(f),f}}const Z=W();function q(){const e=P();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],o=t;for(;o;)n.push(o),o=o.next;return n},subscribe(n){let o=!0,s=r={callback:n,next:null,prev:r};return s.prev?s.prev.next=s:t=s,function(){!o||t===null||(o=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}const k={notify(){},get:()=>[]};function I(e,t){let r,n=k,o=0,s=!1;function i(x){b();const g=n.subscribe(x);let C=!1;return()=>{C||(C=!0,g(),p())}}function d(){n.notify()}function l(){f.onStateChange&&f.onStateChange()}function c(){return s}function b(){o++,r||(r=t?t.addNestedSub(l):e.subscribe(l),n=q())}function p(){o--,r&&o===0&&(r(),r=void 0,n.clear(),n=k)}function y(){s||(s=!0,b())}function S(){s&&(s=!1,p())}const f={addNestedSub:i,notifyNestedSubs:d,handleChangeWrapper:l,isSubscribed:c,trySubscribe:y,tryUnsubscribe:S,getListeners:()=>n};return f}const K=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_=K?u.useLayoutEffect:u.useEffect;function v(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function B(e,t){if(v(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!v(e[r[o]],t[r[o]]))return!1;return!0}function A({store:e,context:t,children:r,serverState:n,stabilityCheck:o="once",noopCheck:s="once"}){const i=u.useMemo(()=>{const c=I(e);return{store:e,subscription:c,getServerState:n?()=>n:void 0,stabilityCheck:o,noopCheck:s}},[e,n,o,s]),d=u.useMemo(()=>e.getState(),[e]);_(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),d!==e.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,d]);const l=t||a;return u.createElement(l.Provider,{value:i},r)}function U(e=a){const t=e===a?N:h(e);return function(){const{store:n}=t();return n}}const O=U();function F(e=a){const t=e===a?O:U(e);return function(){return t().dispatch}}const j=F();$(L.useSyncExternalStoreWithSelector);H(D.unstable_batchedUpdates);export{A as P,Z as a,O as b,B as s,j as u};
